<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="worldfootballR">
<title>Extracting data from FBref • worldfootballR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.7/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extracting data from FBref">
<meta property="og:description" content="worldfootballR">
<meta property="og:image" content="https://jaseziv.github.io/worldfootballR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-PQNCTZ7KQD"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-PQNCTZ7KQD');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">worldfootballR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.3.0011</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/extract-fbref-data.html">Extracting data from FBref</a>
    <a class="dropdown-item" href="../articles/extract-fotmob-data.html">Extracting data from fotmob</a>
    <a class="dropdown-item" href="../articles/extract-transfermarkt-data.html">Extracting data from Transfermarkt</a>
    <a class="dropdown-item" href="../articles/extract-understat-data.html">Extracting data from Understat</a>
    <a class="dropdown-item" href="../articles/fbref-data-internationals.html">Extracting data from FBref for International Matches</a>
    <a class="dropdown-item" href="../articles/load-scraped-data.html">Load Scraped Data Functions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/jaseziv">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/JaseZiv/worldfootballR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Extracting data from FBref</h1>
                        <h4 data-toc-skip class="author">Jason
Zivkovic</h4>
            
            <h4 data-toc-skip class="date">2023-07-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/JaseZiv/worldfootballR/blob/HEAD/vignettes/extract-fbref-data.Rmd" class="external-link"><code>vignettes/extract-fbref-data.Rmd</code></a></small>
      <div class="d-none name"><code>extract-fbref-data.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This package is designed to allow users to extract various world
football results and player statistics from the following popular
football (soccer) data sites:</p>
<ul>
<li><a href="https://fbref.com/en/" class="external-link">FBref</a></li>
<li><a href="https://www.transfermarkt.com/" class="external-link">Transfermarkt</a></li>
<li><a href="https://understat.com/" class="external-link">Understat</a></li>
<li><a href="https://www.fotmob.com/" class="external-link">Fotmob</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the CRAN version of <a href="https://CRAN.R-project.org/package=worldfootballR" class="external-link"><strong><code>worldfootballR</code></strong></a>
with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"worldfootballR"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the released version of <a href="https://github.com/JaseZiv/worldfootballR/" class="external-link"><strong><code>worldfootballR</code></strong></a>
from <a href="https://github.com/JaseZiv/worldfootballR" class="external-link">GitHub</a>
with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"JaseZiv/worldfootballR"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/JaseZiv/worldfootballR" class="external-link">worldfootballR</a></span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Package vignettes have been built to help you get started with the
package.</p>
<ul>
<li>For functions to extract data from Transfermarkt, see <a href="https://jaseziv.github.io/worldfootballR/articles/extract-transfermarkt-data.html">here</a>
</li>
<li>For functions to extract data from Understat, see <a href="https://jaseziv.github.io/worldfootballR/articles/extract-understat-data.html">here</a>
</li>
<li>For functions to extract data from fotmob, see <a href="https://jaseziv.github.io/worldfootballR/articles/extract-fotmob-data.html">here</a>
</li>
<li>For functions to extract data for international matches from FBref,
see <a href="https://jaseziv.github.io/worldfootballR/articles/fbref-data-internationals.html">here</a>
</li>
<li>For functions to load pre-scraped data, see <a href="https://jaseziv.github.io/worldfootballR/articles/load-scraped-data.html">here</a>
</li>
</ul>
<p>This vignette will cover the functions to extract data from
FBref.com.</p>
<p><strong>NOTE:</strong></p>
<p>As of version <code>0.5.2</code>, all FBref functions now come with a
user-defined pause between page loads to address their new rate
limiting. See <a href="https://www.sports-reference.com/bot-traffic.html" class="external-link">this</a>
document for more information.</p>
<hr>
</div>
<div class="section level2">
<h2 id="join-fbref-and-transfermarkt-data">Join FBref and Transfermarkt data<a class="anchor" aria-label="anchor" href="#join-fbref-and-transfermarkt-data"></a>
</h2>
<p>To be able to join data player between FBref and Transfermarkt,
<code><a href="../reference/player_dictionary_mapping.html">player_dictionary_mapping()</a></code> has been created. There are
over 6,100 players who have been listed for teams in the Big 5 Euro
leagues on FBref since the start of the 2017-18 seasons, with all of
these mapped together. This is expected to be updated and grow over
time. The raw data is stored <a href="https://github.com/JaseZiv/worldfootballR_data/blob/master/raw-data/fbref-tm-player-mapping/output/fbref_to_tm_mapping.csv" class="external-link">here</a></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mapped_players</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/player_dictionary_mapping.html">player_dictionary_mapping</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">mapped_players</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 14,403</span></span>
<span><span class="co">#&gt; Columns: 4</span></span>
<span><span class="co">#&gt; $ PlayerFBref <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "A.J. DeLaGarza", "AJ Marcucci", "Aapo Halme", "Aaron Bast…</span></span>
<span><span class="co">#&gt; $ UrlFBref    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://fbref.com/en/players/171b3c37/AJ-DeLaGarza", "htt…</span></span>
<span><span class="co">#&gt; $ UrlTmarkt   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://www.transfermarkt.com/a-j-delagarza/profil/spiele…</span></span>
<span><span class="co">#&gt; $ TmPos       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Right-Back", "Goalkeeper", "Centre-Back", "Left Winger", …</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="fbref-helper-functions">FBref Helper Functions<a class="anchor" aria-label="anchor" href="#fbref-helper-functions"></a>
</h2>
<p>The following section will outline the various functions available to
find different URLs to be able to pass through the FBref suite of
functions outlined in this vignette.</p>
<div class="section level3">
<h3 id="league-urls">League URLs<a class="anchor" aria-label="anchor" href="#league-urls"></a>
</h3>
<p>To extract the URL of any country’s league(s) (provided fbref have
data for the league), use the <code><a href="../reference/fb_league_urls.html">fb_league_urls()</a></code>
function.</p>
<p>This function also accepts a <code>tier</code> argument. for
first-tier leagues, select ‘1st’, for second-tier select ‘2nd’ and so
on.</p>
<p>A fill list of countries available can be found in the
<code>worldfootballR_data</code> repository and can be found <a href="https://github.com/JaseZiv/worldfootballR_data/blob/master/raw-data/all_leages_and_cups/all_competitions.csv" class="external-link">here</a>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fb_league_urls.html">fb_league_urls</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">"ENG"</span>, gender <span class="op">=</span> <span class="st">"M"</span>, season_end_year <span class="op">=</span> <span class="fl">2021</span>, tier <span class="op">=</span> <span class="st">'2nd'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="team-urls">Team URLs<a class="anchor" aria-label="anchor" href="#team-urls"></a>
</h3>
<p>To get a list of URLs for each team in a particular season, the
<code><a href="../reference/fb_teams_urls.html">fb_teams_urls()</a></code> function can be used:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fb_teams_urls.html">fb_teams_urls</a></span><span class="op">(</span><span class="st">"https://fbref.com/en/comps/9/Premier-League-Stats"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="player-urls">Player URLs<a class="anchor" aria-label="anchor" href="#player-urls"></a>
</h3>
<p>To get a list of player URLs for a particular team, the
<code><a href="../reference/fb_player_urls.html">fb_player_urls()</a></code> function can be used. The results of this
output can be passed through to the player season stat functions
<code><a href="../reference/fb_player_season_stats.html">fb_player_season_stats()</a></code> and
<code><a href="../reference/fb_player_scouting_report.html">fb_player_scouting_report()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fb_player_urls.html">fb_player_urls</a></span><span class="op">(</span><span class="st">"https://fbref.com/en/squads/fd962109/Fulham-Stats"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="get-match-urls">Get match urls<a class="anchor" aria-label="anchor" href="#get-match-urls"></a>
</h3>
<p>To get the match URLs needed to pass in to some of the match-level
functions below, <code><a href="../reference/fb_match_urls.html">fb_match_urls()</a></code> can be used:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">epl_2021_urls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_match_urls.html">fb_match_urls</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">"ENG"</span>, gender <span class="op">=</span> <span class="st">"M"</span>, season_end_year <span class="op">=</span> <span class="fl">2021</span>, tier<span class="op">=</span><span class="st">"1st"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="league-season-level-data">League Season-Level Data<a class="anchor" aria-label="anchor" href="#league-season-level-data"></a>
</h2>
<p>This section will cover the functions to aid in the extraction of
season team statistics.</p>
<div class="section level3">
<h3 id="get-season-team-stats">Get Season Team Stats<a class="anchor" aria-label="anchor" href="#get-season-team-stats"></a>
</h3>
<p>The <code>fb_season_team_stats</code> function allows the user to
return a data frame of different stat types for all teams in Domestic
leagues <a href="https://github.com/JaseZiv/worldfootballR_data/blob/master/raw-data/all_leages_and_cups/all_competitions.csv" class="external-link">here</a>.</p>
<p>Note, some stats may not be available for all leagues. The big five
European leagues should have all of these stats, but for those leagues,
it’s more efficient to use
<code><a href="../reference/fb_big5_advanced_season_stats.html">fb_big5_advanced_season_stats()</a></code>.</p>
<p>The following stat types can be selected:</p>
<ul>
<li><em>league_table</em></li>
<li><em>league_table_home_away</em></li>
<li><em>standard</em></li>
<li><em>keeper</em></li>
<li><em>keeper_adv</em></li>
<li><em>shooting</em></li>
<li><em>passing</em></li>
<li><em>passing_types</em></li>
<li><em>goal_shot_creation</em></li>
<li><em>defense</em></li>
<li><em>possession</em></li>
<li><em>playing_time</em></li>
<li><em>misc</em></li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#----- function to extract season teams stats -----#</span></span>
<span><span class="va">prem_2020_shooting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_season_team_stats.html">fb_season_team_stats</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">"ENG"</span>, gender <span class="op">=</span> <span class="st">"M"</span>, season_end_year <span class="op">=</span> <span class="st">"2020"</span>, tier <span class="op">=</span> <span class="st">"1st"</span>, stat_type <span class="op">=</span> <span class="st">"shooting"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">prem_2020_shooting</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#----- to get shooting stats for the English Championship: -----#</span></span>
<span><span class="co"># championship_2020_shooting &lt;- get_season_team_stats(country = "ENG", gender = "M", season_end_year = "2020", tier = "2nd", stat_type = "shooting")</span></span>
<span></span>
<span><span class="co">#----- Can also run this for multiple leagues at a time: -----#</span></span>
<span><span class="co"># multiple_2020_shooting &lt;- get_season_team_stats(country = c("USA", "NED"),</span></span>
<span><span class="co">#                                                 gender = "M", season_end_year = 2020, </span></span>
<span><span class="co">#                                                 tier = "1st", stat_type = "shooting")</span></span></code></pre></div>
<div class="section level4">
<h4 id="the-big-5-euro-leagues">The Big 5 Euro Leagues<a class="anchor" aria-label="anchor" href="#the-big-5-euro-leagues"></a>
</h4>
<p>The <code><a href="../reference/fb_big5_advanced_season_stats.html">fb_big5_advanced_season_stats()</a></code> function allows
users to extract data for any of the below listed stat types for all
teams of the big five European leagues (EPL, La Liga, Ligue 1, Serie A,
Bundesliga).</p>
<p>The stat types available for this function are below:</p>
<ul>
<li><em>standard</em></li>
<li><em>shooting</em></li>
<li><em>passing</em></li>
<li><em>passing_types</em></li>
<li><em>gca</em></li>
<li><em>defense</em></li>
<li><em>possession</em></li>
<li><em>playing_time</em></li>
<li><em>misc</em></li>
<li><em>keepers</em></li>
<li><em>keepers_adv</em></li>
</ul>
<p>The function also accepts a season or seasons and whether you want
data for the player, or team.</p>
<p>Note that when selecting <code>team_or_player="team"</code>, results
will be returned for both the team’s for and against stats. To filter on
this, use the <code>Team_or_Opponent</code> column in the resulting data
frame, selecting ‘team’ if you want the team’s for stats, or ‘opponent’
if you want the team’s against stats.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#----- Get data for big five leagues for TEAMS -----#</span></span>
<span><span class="va">big5_team_shooting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_big5_advanced_season_stats.html">fb_big5_advanced_season_stats</a></span><span class="op">(</span>season_end_year<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2019</span><span class="op">:</span><span class="fl">2021</span><span class="op">)</span>, stat_type<span class="op">=</span> <span class="st">"shooting"</span>, team_or_player<span class="op">=</span> <span class="st">"team"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">big5_team_shooting</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#----- Get data for big five leagues for PLAYERS -----#</span></span>
<span><span class="va">big5_player_shooting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_big5_advanced_season_stats.html">fb_big5_advanced_season_stats</a></span><span class="op">(</span>season_end_year<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2019</span><span class="op">:</span><span class="fl">2021</span><span class="op">)</span>, stat_type<span class="op">=</span> <span class="st">"shooting"</span>, team_or_player<span class="op">=</span> <span class="st">"player"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">big5_player_shooting</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="get-season-player-stats">Get Season Player Stats<a class="anchor" aria-label="anchor" href="#get-season-player-stats"></a>
</h3>
<p>The <code>fb_league_stats</code> function allows the user to return a
data frame of different stat types for all players in leagues <a href="https://github.com/JaseZiv/worldfootballR_data/blob/master/raw-data/all_leages_and_cups/all_competitions.csv" class="external-link">here</a>.</p>
<p>Note, some stats may not be available for all leagues.</p>
<p>The following stat types can be selected:</p>
<ul>
<li><em>standard</em></li>
<li><em>shooting</em></li>
<li><em>passing</em></li>
<li><em>passing_types</em></li>
<li><em>gca</em></li>
<li><em>defense</em></li>
<li><em>possession</em></li>
<li><em>playing_time</em></li>
<li><em>misc</em></li>
<li><em>keepers</em></li>
<li><em>keepers_adv</em></li>
</ul>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prem_2020_player_shooting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_league_stats.html">fb_league_stats</a></span><span class="op">(</span></span>
<span>  country <span class="op">=</span> <span class="st">"ENG"</span>,</span>
<span>  gender <span class="op">=</span> <span class="st">"M"</span>,</span>
<span>  season_end_year <span class="op">=</span> <span class="fl">2020</span>,</span>
<span>  tier <span class="op">=</span> <span class="st">"1st"</span>,</span>
<span>  non_dom_league_url <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  stat_type <span class="op">=</span> <span class="st">"shooting"</span>,</span>
<span>  team_or_player <span class="op">=</span> <span class="st">"player"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">prem_2020_player_shooting</span><span class="op">)</span></span></code></pre></div>
<p><code>fb_league_stats</code> retrieves data in one page load,
e.g. from <a href="https://fbref.com/en/comps/9/shooting/Premier-League-Stats" class="external-link">here</a>.
This is much more efficient than iterating over a vector of player URLs
to get data for all players in a league (i.e. with
<code><a href="../reference/fb_player_season_stats.html">fb_player_season_stats()</a></code>).</p>
<p>Note that the same function can be used to retrieve team data for a
season in a manner similar to <code><a href="../reference/fb_season_team_stats.html">fb_season_team_stats()</a></code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prem_2020_team_shooting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_league_stats.html">fb_league_stats</a></span><span class="op">(</span></span>
<span>  country <span class="op">=</span> <span class="st">"ENG"</span>,</span>
<span>  gender <span class="op">=</span> <span class="st">"M"</span>,</span>
<span>  season_end_year <span class="op">=</span> <span class="fl">2020</span>,</span>
<span>  tier <span class="op">=</span> <span class="st">"1st"</span>,</span>
<span>  non_dom_league_url <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  stat_type <span class="op">=</span> <span class="st">"shooting"</span>,</span>
<span>  team_or_player <span class="op">=</span> <span class="st">"team"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">prem_2020_team_shooting</span><span class="op">)</span></span></code></pre></div>
<p>Multiple values for <code>country</code>, <code>gender</code>,
<code>season_end_year</code>, and <code>tier</code> can be provided at
the same time, although only one value should be specified for
<code>stat_type</code> and <code>team_or_player</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># fb_league_stats(</span></span>
<span><span class="co">#   country = c("ENG", "ESP")</span></span>
<span><span class="co">#   gender = c("M", "F")</span></span>
<span><span class="co">#   season_end_year = 2020:2021,</span></span>
<span><span class="co">#   tier = c("1st", "2nd"),</span></span>
<span><span class="co">#   non_dom_league_url = NA,</span></span>
<span><span class="co">#   stat_type = "shooting",</span></span>
<span><span class="co">#   team_or_player = "player"</span></span>
<span><span class="co"># )</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="match-level-data">Match-Level Data<a class="anchor" aria-label="anchor" href="#match-level-data"></a>
</h2>
<p>The following sections outlines the functions available to extract
data at the per-match level</p>
<div class="section level3">
<h3 id="get-match-results">Get match results<a class="anchor" aria-label="anchor" href="#get-match-results"></a>
</h3>
<p>To get the match results (and additional metadata) for all leagues
and comps listed <a href="https://github.com/JaseZiv/worldfootballR_data/blob/master/raw-data/all_leages_and_cups/all_competitions.csv" class="external-link">here</a>,
the following function can be used:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># function to extract Serie A match results data</span></span>
<span><span class="va">serieA_2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_match_results.html">fb_match_results</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">"ITA"</span>, gender <span class="op">=</span> <span class="st">"M"</span>, season_end_year <span class="op">=</span> <span class="fl">2020</span>, tier <span class="op">=</span> <span class="st">"1st"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">serieA_2020</span><span class="op">)</span></span></code></pre></div>
<p>The function can also be used to return match URLs for a non-domestic
league season. To use this functionality, simply leave
<code>country = ''</code> and pass the non-domestic league URL, which
can be found at <a href="https://fbref.com/en/comps/" class="external-link uri">https://fbref.com/en/comps/</a></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># for international friendlies:</span></span>
<span><span class="fu"><a href="../reference/fb_match_results.html">fb_match_results</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">""</span>, gender <span class="op">=</span> <span class="st">"M"</span>, season_end_year <span class="op">=</span> <span class="fl">2018</span>, tier <span class="op">=</span> <span class="st">""</span>, non_dom_league_url <span class="op">=</span> <span class="st">"https://fbref.com/en/comps/218/history/Friendlies-M-Seasons"</span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="more-than-one-league-season">More than one league season<a class="anchor" aria-label="anchor" href="#more-than-one-league-season"></a>
</h4>
<p>The <code><a href="../reference/fb_match_results.html">fb_match_results()</a></code> function can be used to get data
for multiple seasons/leagues/genders/etc also:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">big_5_2020_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_match_results.html">fb_match_results</a></span><span class="op">(</span>country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ENG"</span>, <span class="st">"ESP"</span>, <span class="st">"ITA"</span>, <span class="st">"GER"</span>, <span class="st">"FRA"</span><span class="op">)</span>,</span>
<span>                                       gender <span class="op">=</span> <span class="st">"M"</span>, season_end_year <span class="op">=</span> <span class="fl">2020</span>, tier <span class="op">=</span> <span class="st">"1st"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="get-match-report">Get match report<a class="anchor" aria-label="anchor" href="#get-match-report"></a>
</h3>
<p>This function will return similar results to that of
<code><a href="../reference/fb_match_results.html">fb_match_results()</a></code>, however <code><a href="../reference/fb_match_report.html">fb_match_report()</a></code>
will provide some additional information. It will also only provide it
for a single match, not the whole season:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># function to extract match report data</span></span>
<span><span class="va">liv_mci_2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_match_report.html">fb_match_report</a></span><span class="op">(</span>match_url <span class="op">=</span> <span class="st">"https://fbref.com/en/matches/47880eb7/Liverpool-Manchester-City-November-10-2019-Premier-League"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">liv_mci_2020</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="get-match-summaries">Get match summaries<a class="anchor" aria-label="anchor" href="#get-match-summaries"></a>
</h3>
<p>This function will return the main events that occur during a match,
including goals, substitutions and red/yellow cards:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># function to extract match summary data</span></span>
<span><span class="va">liv_mci_2020_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_match_summary.html">fb_match_summary</a></span><span class="op">(</span>match_url <span class="op">=</span> <span class="st">"https://fbref.com/en/matches/47880eb7/Liverpool-Manchester-City-November-10-2019-Premier-League"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">liv_mci_2020_summary</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="get-match-lineups">Get match lineups<a class="anchor" aria-label="anchor" href="#get-match-lineups"></a>
</h3>
<p>This function will return a dataframe of all players listed for that
match, including whether they started on the pitch, or on the bench.</p>
<p>From version 0.2.7, this function now also returns some summary
performance data for each player that played, including their position,
minutes played, goals, cards, etc.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># function to extract match lineups</span></span>
<span><span class="va">liv_mci_2020_lineups</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_match_lineups.html">fb_match_lineups</a></span><span class="op">(</span>match_url <span class="op">=</span> <span class="st">"https://fbref.com/en/matches/47880eb7/Liverpool-Manchester-City-November-10-2019-Premier-League"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">liv_mci_2020_lineups</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="get-shooting-and-shot-creation-events">Get shooting and shot creation events<a class="anchor" aria-label="anchor" href="#get-shooting-and-shot-creation-events"></a>
</h3>
<p>The below function allows users to extract shooting and shot creation
event data for a match or selected matches. The data returned includes
who took the shot, when, with which body part and from how far away.
Additionally, the player creating the chance and also the creation
before this are included in the data.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#----- Get shots data for a single match played: -----#</span></span>
<span><span class="va">shot_one_match</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_match_shooting.html">fb_match_shooting</a></span><span class="op">(</span>match_url <span class="op">=</span> <span class="st">"https://fbref.com/en/matches/a3eb7a37/Sheffield-United-Wolverhampton-Wanderers-September-14-2020-Premier-League"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#----- Can also extract for multiple matches at a time: -----#</span></span>
<span><span class="co"># test_urls_multiple &lt;- c("https://fbref.com/en/matches/c0996cac/Bordeaux-Nantes-August-21-2020-Ligue-1",</span></span>
<span><span class="co">#                         "https://fbref.com/en/matches/9cbccb37/Dijon-Angers-August-22-2020-Ligue-1",</span></span>
<span><span class="co">#                         "https://fbref.com/en/matches/f96cd5a0/Lorient-Strasbourg-August-23-2020-Ligue-1")</span></span>
<span><span class="co"># shot_multiple_matches &lt;- fb_match_shooting(test_urls_multiple)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="get-advanced-match-statistics">Get advanced match statistics<a class="anchor" aria-label="anchor" href="#get-advanced-match-statistics"></a>
</h3>
<p>The <code><a href="../reference/fb_advanced_match_stats.html">fb_advanced_match_stats()</a></code> function allows the user
to return a data frame of different stat types for matches played.</p>
<p>Note, some stats may not be available for all leagues. The big five
European leagues should have all of these stats.</p>
<p>The following stat types can be selected:</p>
<ul>
<li><em>summary</em></li>
<li><em>passing</em></li>
<li><em>passing_types</em></li>
<li><em>defense</em></li>
<li><em>possession</em></li>
<li><em>misc</em></li>
<li><em>keeper</em></li>
</ul>
<p>The function can be used for either all players individually:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_urls_multiple</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://fbref.com/en/matches/c0996cac/Bordeaux-Nantes-August-21-2020-Ligue-1"</span>,</span>
<span>                        <span class="st">"https://fbref.com/en/matches/9cbccb37/Dijon-Angers-August-22-2020-Ligue-1"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">advanced_match_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_advanced_match_stats.html">fb_advanced_match_stats</a></span><span class="op">(</span>match_url <span class="op">=</span> <span class="va">test_urls_multiple</span>, stat_type <span class="op">=</span> <span class="st">"possession"</span>, team_or_player <span class="op">=</span> <span class="st">"player"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">advanced_match_stats</span><span class="op">)</span></span></code></pre></div>
<p>Or used for the team totals for each match:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_urls_multiple</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://fbref.com/en/matches/c0996cac/Bordeaux-Nantes-August-21-2020-Ligue-1"</span>,</span>
<span>                        <span class="st">"https://fbref.com/en/matches/9cbccb37/Dijon-Angers-August-22-2020-Ligue-1"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">advanced_match_stats_team</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_advanced_match_stats.html">fb_advanced_match_stats</a></span><span class="op">(</span>match_url <span class="op">=</span> <span class="va">test_urls_multiple</span>, stat_type <span class="op">=</span> <span class="st">"passing_types"</span>, team_or_player <span class="op">=</span> <span class="st">"team"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">advanced_match_stats_team</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="team-level-data">Team-Level Data<a class="anchor" aria-label="anchor" href="#team-level-data"></a>
</h2>
<p>This section will cover off the functions to get team-level data from
FBref.</p>
<div class="section level3">
<h3 id="match-results-by-team">Match Results by team<a class="anchor" aria-label="anchor" href="#match-results-by-team"></a>
</h3>
<p>To get all the results a team(s) has competed in for a season, the
following function can be used. The resulting data frame output will
include all game results, including any cup games played, and will
accept either one, or many team URLs.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#----- for single teams: -----#</span></span>
<span><span class="va">man_city_2021_url</span> <span class="op">&lt;-</span> <span class="st">"https://fbref.com/en/squads/b8fd03ef/Manchester-City-Stats"</span></span>
<span><span class="va">man_city_2021_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_team_match_results.html">fb_team_match_results</a></span><span class="op">(</span><span class="va">man_city_2021_url</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">man_city_2021_results</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#----- get all team URLs for a league: -----#</span></span>
<span><span class="co"># epl_2021_team_urls &lt;- fb_teams_urls("https://fbref.com/en/comps/9/Premier-League-Stats")</span></span>
<span><span class="co"># epl_2021_team_results &lt;- fb_team_match_results(team_url = team_urls)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="stat-logs-for-season">Stat Logs for Season<a class="anchor" aria-label="anchor" href="#stat-logs-for-season"></a>
</h3>
<p>To be able to get full match logs for all available stat types for
each team(s) season, the <code><a href="../reference/fb_team_match_log_stats.html">fb_team_match_log_stats()</a></code> function
can be used.</p>
<p>Available stat types are below. Note, not all of the listed stat
types are available for all teams, and for teams where they are, there
still may be gaps in the resulting data frame as not all competitions
participated in will have the stat available:</p>
<ul>
<li><em>shooting</em></li>
<li><em>keeper</em></li>
<li><em>passing</em></li>
<li><em>passing_types</em></li>
<li><em>gca</em></li>
<li><em>defense</em></li>
<li><em>misc</em></li>
</ul>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># can do it for one team:</span></span>
<span><span class="va">man_city_url</span> <span class="op">&lt;-</span> <span class="st">"https://fbref.com/en/squads/b8fd03ef/Manchester-City-Stats"</span></span>
<span><span class="va">man_city_logs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_team_match_log_stats.html">fb_team_match_log_stats</a></span><span class="op">(</span>team_urls <span class="op">=</span> <span class="va">man_city_url</span>, stat_type <span class="op">=</span> <span class="st">"passing"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">man_city_logs</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># or multiple teams:</span></span>
<span><span class="va">urls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://fbref.com/en/squads/822bd0ba/Liverpool-Stats"</span>,</span>
<span>          <span class="st">"https://fbref.com/en/squads/b8fd03ef/Manchester-City-Stats"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">shooting_logs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_team_match_log_stats.html">fb_team_match_log_stats</a></span><span class="op">(</span>team_urls <span class="op">=</span> <span class="va">urls</span>, stat_type <span class="op">=</span> <span class="st">"shooting"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="season-goal-logs">Season goal logs<a class="anchor" aria-label="anchor" href="#season-goal-logs"></a>
</h3>
<p>Use the <code><a href="../reference/fb_team_goal_logs.html">fb_team_goal_logs()</a></code> function to get goal logs
“for” (the default), “against”, or “both”, for a team.</p>
<pre><code><span><span class="va">man_city_url</span> <span class="op">&lt;-</span> <span class="st">"https://fbref.com/en/squads/b8fd03ef/Manchester-City-Stats"</span></span>
<span><span class="va">goal_log</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">team_urls</span> <span class="op">=</span> <span class="va">man_city_url</span>, <span class="va">for_or_against</span><span class="op">=</span><span class="st">"both"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">goal_log</span><span class="op">)</span></span></code></pre>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="player-level-data">Player-Level Data<a class="anchor" aria-label="anchor" href="#player-level-data"></a>
</h2>
<p>This section will cover the functions available to aid in the
extraction of player season data.</p>
<p>The examples provided below in a lot of cases have the actual url
(player or team) passed to them, however the suite of fbref helper
functions outlined in <a href="https://jaseziv.github.io/worldfootballR/articles/extract-helper-urls.html">this
helpers vignette</a> could also be used.</p>
<div class="section level3">
<h3 id="get-player-scouting-report">Get Player Scouting Report<a class="anchor" aria-label="anchor" href="#get-player-scouting-report"></a>
</h3>
<p>The <code><a href="../reference/fb_player_scouting_report.html">fb_player_scouting_report()</a></code> function takes in three
inputs;</p>
<ul>
<li>
<code>player_url</code> - the URL of the player’s main page</li>
<li>
<code>pos_versus</code> - which can return the player’s comparison
against players in their “primary”, OR “secondary” position</li>
<li>
<code>league_comp_name</code> - the name of the competition/league
season you want the player comparisons for. If no value is supplied,
then this will just return for all scouting periods. This information
needs to be copied exactly as the tabs appear on the player scouting
page on FBref.</li>
</ul>
<p>This results in the full scouting report for the player selected.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#----- Get scouting report for the players primary position (first position listed in fbref): -----#</span></span>
<span><span class="va">messi_primary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_player_scouting_report.html">fb_player_scouting_report</a></span><span class="op">(</span>player_url <span class="op">=</span> <span class="st">"https://fbref.com/en/players/d70ce98e/Lionel-Messi"</span>, pos_versus <span class="op">=</span> <span class="st">"primary"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">messi_primary</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># TO GET THE LAST 365 DAYS REPORT:</span></span>
<span><span class="va">messi_last_365</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_player_scouting_report.html">fb_player_scouting_report</a></span><span class="op">(</span>player_url <span class="op">=</span> <span class="st">"https://fbref.com/en/players/d70ce98e/Lionel-Messi"</span>,</span>
<span>                                   pos_versus <span class="op">=</span> <span class="st">"primary"</span>, </span>
<span>                                   league_comp_name <span class="op">=</span> <span class="st">"Last 365 Days Men's Big 5 Leagues, UCL, UEL"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># TO GET SCOUTING REPORT FOR MULTIPLE COMPS/LEAGUES:</span></span>
<span><span class="va">messi_multiple</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_player_scouting_report.html">fb_player_scouting_report</a></span><span class="op">(</span>player_url <span class="op">=</span> <span class="st">"https://fbref.com/en/players/d70ce98e/Lionel-Messi"</span>,</span>
<span>                                   pos_versus <span class="op">=</span> <span class="st">"primary"</span>, </span>
<span>                                   league_comp_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Last 365 Days Men's Big 5 Leagues, UCL, UEL"</span>, <span class="st">"2022 World Cup"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">#----- Get scouting report for the players secondary position (second position listed in fbref): -----#</span></span>
<span><span class="va">messi_secondary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_player_scouting_report.html">fb_player_scouting_report</a></span><span class="op">(</span>player_url <span class="op">=</span> <span class="st">"https://fbref.com/en/players/d70ce98e/Lionel-Messi"</span>, pos_versus <span class="op">=</span> <span class="st">"secondary"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">messi_secondary</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="get-player-season-stats">Get Player Season Stats<a class="anchor" aria-label="anchor" href="#get-player-season-stats"></a>
</h3>
<p>The <code><a href="../reference/fb_player_season_stats.html">fb_player_season_stats()</a></code> function allows for the
extraction of historical season totals for selected player URLs and
stat_type.</p>
<p>The stat_types available for use in this function are below:</p>
<ul>
<li><em>standard</em></li>
<li><em>shooting</em></li>
<li><em>passing</em></li>
<li><em>passing_types</em></li>
<li><em>gca</em></li>
<li><em>defense</em></li>
<li><em>possession</em></li>
<li><em>playing_time</em></li>
<li><em>misc</em></li>
<li><em>keeper</em></li>
<li><em>keeper_adv</em></li>
</ul>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#----- can use for a single player: -----#</span></span>
<span><span class="va">mo_shooting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_player_season_stats.html">fb_player_season_stats</a></span><span class="op">(</span><span class="st">"https://fbref.com/en/players/e342ad68/Mohamed-Salah"</span>, stat_type <span class="op">=</span> <span class="st">'shooting'</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">mo_shooting</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#----- Or for multiple players at a time: -----#</span></span>
<span><span class="co"># multiple_playing_time &lt;- fb_player_season_stats(player_url = c("https://fbref.com/en/players/d70ce98e/Lionel-Messi",</span></span>
<span><span class="co">#                                                 "https://fbref.com/en/players/dea698d9/Cristiano-Ronaldo"),</span></span>
<span><span class="co">#                                  stat_type = "playing_time")</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-big-5-euro-league-players">The Big 5 Euro League Players<a class="anchor" aria-label="anchor" href="#the-big-5-euro-league-players"></a>
</h3>
<p>The <code><a href="../reference/fb_big5_advanced_season_stats.html">fb_big5_advanced_season_stats()</a></code> function allows
users to extract data for any of the below listed stat types for all
players of the big five European leagues (EPL, La Liga, Ligue 1, Serie
A, Bundesliga).</p>
<p>The stat types available for this function are below:</p>
<ul>
<li><em>standard</em></li>
<li><em>shooting</em></li>
<li><em>passing</em></li>
<li><em>passing_types</em></li>
<li><em>gca</em></li>
<li><em>defense</em></li>
<li><em>possession</em></li>
<li><em>playing_time</em></li>
<li><em>misc</em></li>
<li><em>keepers</em></li>
<li><em>keepers_adv</em></li>
</ul>
<p>The function also accepts a season or seasons and whether you want
data for the player, or team.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">big5_player_possession</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_big5_advanced_season_stats.html">fb_big5_advanced_season_stats</a></span><span class="op">(</span>season_end_year<span class="op">=</span> <span class="fl">2021</span>, stat_type<span class="op">=</span> <span class="st">"possession"</span>, team_or_player<span class="op">=</span> <span class="st">"player"</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">big5_player_possession</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="player-season-statistics-for-a-teams-season">Player Season Statistics for a teams season<a class="anchor" aria-label="anchor" href="#player-season-statistics-for-a-teams-season"></a>
</h3>
<p>The <code><a href="../reference/fb_team_player_stats.html">fb_team_player_stats()</a></code> function allows users to
extract data for any of the below listed stat types for all players of
selected team(s) seasons,</p>
<p>The stat types available for this function are below:</p>
<ul>
<li><em>standard</em></li>
<li><em>shooting</em></li>
<li><em>passing</em></li>
<li><em>passing_types</em></li>
<li><em>gca</em></li>
<li><em>defense</em></li>
<li><em>possession</em></li>
<li><em>playing_time</em></li>
<li><em>misc</em></li>
<li><em>keepers</em></li>
<li><em>keepers_adv</em></li>
</ul>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#----- to get stats for just a single team: -----#</span></span>
<span><span class="va">fleetwood_standard_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_team_player_stats.html">fb_team_player_stats</a></span><span class="op">(</span>team_urls<span class="op">=</span> <span class="st">"https://fbref.com/en/squads/d6a369a2/Fleetwood-Town-Stats"</span>, stat_type<span class="op">=</span> <span class="st">'standard'</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">fleetwood_standard_stats</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#----- Can even get stats for a series of teams: -----#</span></span>
<span><span class="co"># league_url &lt;- fb_league_urls(country = "ENG", gender = "M",</span></span>
<span><span class="co"># teams &lt;- fb_teams_urls(league_url)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># multiple_playing_time &lt;- fb_team_player_stats(team_urls= teams, stat_type= "playing_time")</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="goal-and-assist-logs">Goal and assist logs<a class="anchor" aria-label="anchor" href="#goal-and-assist-logs"></a>
</h3>
<p>Use the <code><a href="../reference/fb_player_goal_logs.html">fb_player_goal_logs()</a></code> function to get logs of
“goals” (the default), “assists”, or “both”.</p>
<pre><code><span><span class="va">jwp_url</span> <span class="op">&lt;-</span> <span class="st">"https://fbref.com/en/players/3515d404/James-Ward-Prowse"</span></span>
<span><span class="va">goal_log</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">team_urls</span> <span class="op">=</span> <span class="va">jwp_url</span>, <span class="va">goals_or_assists</span><span class="op">=</span><span class="st">"both"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">goal_log</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="player-match-logs">Player Match Logs<a class="anchor" aria-label="anchor" href="#player-match-logs"></a>
</h3>
<p>The <code><a href="../reference/fb_player_match_logs.html">fb_player_match_logs()</a></code> function allows the user to
return a data frame of the match logs of different stat types for a
player’s matches played in a season.</p>
<p>The following stat types can be selected, depending on the player’s
position (ie a striker probably won’t have “keepers” stats):</p>
<ul>
<li><em>summary</em></li>
<li><em>keepers</em></li>
<li><em>passing</em></li>
<li><em>passing_types</em></li>
<li><em>gca</em></li>
<li><em>defense</em></li>
<li><em>possession</em></li>
<li><em>misc</em></li>
</ul>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ederson_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_player_match_logs.html">fb_player_match_logs</a></span><span class="op">(</span><span class="st">"https://fbref.com/en/players/3bb7b8b4/Ederson"</span>, season_end_year <span class="op">=</span> <span class="fl">2021</span>, stat_type <span class="op">=</span> <span class="st">'summary'</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">ederson_summary</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="player-wages">Player Wages<a class="anchor" aria-label="anchor" href="#player-wages"></a>
</h3>
<p>To be able to extract player wages for all players of a team from
FBref (via Capology), use the <code><a href="../reference/fb_squad_wages.html">fb_squad_wages()</a></code> function
below. Notw, this can be used with multiple <code>team_urls</code>.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">man_city_url</span> <span class="op">&lt;-</span> <span class="st">"https://fbref.com/en/squads/b8fd03ef/Manchester-City-Stats"</span></span>
<span><span class="va">man_city_wages</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fb_squad_wages.html">fb_squad_wages</a></span><span class="op">(</span>team_urls <span class="op">=</span> <span class="va">man_city_url</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://twitter.com/jaseziv" class="external-link">Jason Zivkovic</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
